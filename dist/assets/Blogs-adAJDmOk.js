import{_ as C,c as r,b as o,d as m,e as p,h as y,t as a,k as _,y as v,i as g,F as h,g as d,j as c,w as S,f as k,r as w,v as x,z as I,o as i}from"./index-Cdg6T_l9.js";const T={name:"Blogs",data(){return{searchQuery:"",selectedCategory:"",currentPage:1,perPage:6,showFloatBtn:!1,typedText:"",fullText:"Welcome to Our Blog",showCursor:!0,suggestionIndex:-1,showSuggestions:!1}},computed:{blogs(){return I.blogs},filteredBlogs(){let s=this.blogs;if(this.selectedCategory&&(s=s.filter(e=>e.badge===this.selectedCategory.toUpperCase())),this.searchQuery){const e=this.searchQuery.toLowerCase();s=s.filter(u=>u.title.toLowerCase().includes(e)||u.summary.toLowerCase().includes(e))}return s},categories(){const s=new Set(this.blogs.map(e=>e.badge));return["All",...Array.from(s)]},totalPagesFiltered(){return Math.ceil(this.filteredBlogs.length/this.perPage)},paginatedBlogsFiltered(){const s=(this.currentPage-1)*this.perPage,e=s+this.perPage;return this.filteredBlogs.slice(s,e)},filteredSuggestions(){if(!this.searchQuery)return[];const s=this.searchQuery.toLowerCase();return this.blogs.filter(e=>e.title.toLowerCase().includes(s)).slice(0,5)}},mounted(){this.startTyping(),this.cursorInterval=setInterval(()=>{this.showCursor=!this.showCursor},500),window.addEventListener("scroll",this.handleScrollFloatBtns)},beforeDestroy(){clearInterval(this.typingInterval),clearInterval(this.cursorInterval),window.removeEventListener("scroll",this.handleScrollFloatBtns)},methods:{startTyping(){this.typedText="",this.typingIndex=0,this.typingInterval=setInterval(()=>{this.typingIndex<this.fullText.length?(this.typedText+=this.fullText[this.typingIndex],this.typingIndex++):clearInterval(this.typingInterval)},70)},onSearchInput(){this.showSuggestions=!!this.searchQuery&&this.filteredSuggestions.length>0,this.suggestionIndex=-1,this.currentPage=1},moveSuggestion(s){if(!this.showSuggestions)return;const e=this.filteredSuggestions.length-1;this.suggestionIndex=Math.max(0,Math.min(e,this.suggestionIndex+s))},selectSuggestion(){this.suggestionIndex>=0&&this.filteredSuggestions[this.suggestionIndex]?this.goToBlog(this.filteredSuggestions[this.suggestionIndex].id):this.filteredBlogs.length===1?this.goToBlog(this.filteredBlogs[0].id):this.showSuggestions=!1},goToBlog(s){this.$router.push({name:"BlogDetail",params:{id:s}}),this.showSuggestions=!1},searchBlog(){this.filteredBlogs.length===1?this.goToBlog(this.filteredBlogs[0].id):(this.showSuggestions=!1,this.currentPage=1)},goToPage(s){this.currentPage=s,window.scrollTo({top:0,behavior:"smooth"})},selectCategory(s){this.selectedCategory=s===this.selectedCategory?"":s,this.currentPage=1},handleScrollFloatBtns(){this.showFloatBtn=window.scrollY>200},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},goBack(){this.$router.back()}}},P={class:"blogs-section"},F={class:"blog-search-header"},M={class:"blog-welcome"},L={key:0,class:"typing-cursor"},Q={class:"search-bar-container"},D={key:0,class:"suggestions-list"},V=["onMousedown"],N={class:"blog-filters"},z=["onClick"],E={class:"blogs-list"},q={class:"blog-image-block"},A=["src","alt"],K={class:"blog-content"},U={class:"blog-title"},j={class:"blog-summary"},O={class:"pagination"},R=["onClick"],W={class:"float-back-btn"};function Y(s,e,u,G,n,l){const b=w("router-link"),B=w("MainFooter");return i(),r("section",P,[o("div",F,[o("h1",M,[o("span",null,a(n.typedText),1),n.showCursor?(i(),r("span",L,"|")):y("",!0)]),o("div",Q,[p(o("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>n.searchQuery=t),onInput:e[1]||(e[1]=(...t)=>l.onSearchInput&&l.onSearchInput(...t)),onKeydown:[e[2]||(e[2]=v(g(t=>l.moveSuggestion(1),["prevent"]),["down"])),e[3]||(e[3]=v(g(t=>l.moveSuggestion(-1),["prevent"]),["up"])),e[4]||(e[4]=v(g((...t)=>l.selectSuggestion&&l.selectSuggestion(...t),["prevent"]),["enter"]))],type:"text",placeholder:"Search Blog",class:"blog-search-input"},null,544),[[_,n.searchQuery]]),o("button",{class:"blog-search-btn",onClick:e[5]||(e[5]=(...t)=>l.searchBlog&&l.searchBlog(...t)),title:"Search Blog"},e[8]||(e[8]=[o("span",{class:"search-icon"},"ðŸ”",-1)])),n.showSuggestions&&l.filteredSuggestions.length?(i(),r("ul",D,[(i(!0),r(h,null,d(l.filteredSuggestions,(t,f)=>(i(),r("li",{key:t.id,class:c({"active-suggestion":f===n.suggestionIndex}),onMousedown:g(H=>l.goToBlog(t.id),["prevent"])},a(t.title),43,V))),128))])):y("",!0)])]),o("div",N,[(i(!0),r(h,null,d(l.categories,t=>(i(),r("button",{key:t,class:c(["filter-btn",{active:n.selectedCategory===t}]),onClick:f=>l.selectCategory(t)},a(t),11,z))),128)),n.selectedCategory?(i(),r("button",{key:0,class:"filter-btn clear",onClick:e[6]||(e[6]=t=>l.selectCategory(""))},"Clear")):y("",!0)]),o("div",E,[(i(!0),r(h,null,d(l.paginatedBlogsFiltered,t=>(i(),r("div",{class:"blog-card",key:t.id},[o("div",q,[o("img",{src:t.image,alt:t.title,class:"blog-image",loading:"lazy"},null,8,A),o("span",{class:c(["blog-badge",t.badgeClass])},a(t.badge),3)]),o("div",K,[o("h3",U,a(t.title),1),o("p",j,a(t.summary),1),m(b,{to:{name:"BlogDetail",params:{id:t.id}},class:"read-more"},{default:S(()=>e[9]||(e[9]=[k("Read "),o("span",null,"â†’",-1)])),_:2,__:[9]},1032,["to"])])]))),128))]),o("div",O,[(i(!0),r(h,null,d(l.totalPagesFiltered,t=>(i(),r("button",{key:t,class:c(["page-btn",{active:t===n.currentPage}]),onClick:f=>l.goToPage(t)},a(t),11,R))),128))]),m(B),p(o("div",W,[o("button",{class:"back-btn",onClick:e[7]||(e[7]=(...t)=>l.goBack&&l.goBack(...t)),title:"Back"},e[10]||(e[10]=[o("svg",{width:"28",height:"28",fill:"none",stroke:"#ffb300","stroke-width":"2.2",viewBox:"0 0 24 24"},[o("path",{d:"M15 19l-7-7 7-7"})],-1)]))],512),[[x,n.showFloatBtn]])])}const X=C(T,[["render",Y],["__scopeId","data-v-d2804b2f"]]);export{X as default};
